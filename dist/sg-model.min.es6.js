(()=>{"use strict";var e={118:(e,r,t)=>{class i{static uid(){return++i._uid}static defaults(e,r){for(var t in r)void 0===e[t]&&(e[t]=r[t]);return e}static get(...e){return this._instance&&this._instance.get(...e)}static set(...e){return this._instance&&this._instance.set(...e)}constructor(e,r,t){var s=e||{},a="function"==typeof this.defaults?this.defaults():this.default;for(var o in s){var n=s[o];switch(this.constructor.typeProperties[o]){case i.TYPE_NUMBER:s[o]=void 0===n?void 0:+n;break;case i.TYPE_ARRAY_NUMBERS:for(var c=0;c<n.length;c++)n[c]=+n[c];break;case i.TYPE_OBJECT_NUMBERS:if(Array.isArray(n)){if(!(h=a[o]))throw'No default value was set for an object named "'+o+'" ('+this.constructor.name+")! An object structure is required to fill in the data!";var l=0;for(var c in h)h[c]=+n[l],l++;s[o]=h}else{if("object"!=typeof n)throw'Error! Property "'+o+'" ('+this.constructor.name+") must be an object or an array!";for(var c in n)n[c]=+n[c]}break;case i.TYPE_STRING:s[o]=""+n;break;case i.TYPE_BOOL:s[o]=!!n;break;case i.TYPE_OBJECT:if(Array.isArray(n)){var h;if(!(h=a[o]))throw'No default value was set for an object named "'+o+'" ('+this.constructor.name+")! An object structure is required to fill in the data!";l=0;for(var c in h)h[c]=n[l],l++;s[o]=h}else if("object"!=typeof n)throw'Error! Property "'+o+'" ('+this.constructor.name+") must be an object or an array!"}}if(this.properties=_.extend({},a,s),this.properties.id||(this.properties.id=i.uid()),r?Object.assign(this,r):r=i.OBJECT_EMPTY,this.destroyed=!1,this.onChangeCallbacks={},this.ownSetters={},!this.constructor._ownSettersInitialized)for(var o in this.constructor._ownSettersInitialized=!0,this.constructor.ownSetters)!0===this.constructor.ownSetters[o]&&(this.constructor.ownSetters[o]=this["set"+o.charAt(0).toUpperCase()+o.slice(1)]);this.changed=!1,this.initialize.call(this,e,r,t)}initialize(){}set(e,r,t,s=!1){if(!1===s&&this.constructor.ownSetters[e])return this.constructor.ownSetters[e].call(this,r,t);t=t||i.OBJECT_EMPTY;var a=this.constructor.typeProperties[e];if(a)switch(a){case i.TYPE_NUMBER:void 0!==r&&(r=t.precision?Math.roundTo(r,t.precision):+r);break;case i.TYPE_STRING:r=""+r;break;case i.TYPE_BOOL:r=!!r;break;case i.TYPE_OBJECT:return this.setObject.apply(this,arguments);case i.TYPE_ARRAY_NUMBERS:return this.setArray.apply(this,arguments);case i.TYPE_OBJECT_NUMBERS:return this.setObject.apply(this,arguments)}var o=this.properties[e];if(o===r)return!1;if(i._prevValue=void 0!==t.prev_value?t.prev_value:t.prev_value_clone?_.clone(o):o,this.properties[e]=r,this.changed=!0,!t.no_triggers){var n=this.onChangeCallbacks[e];if(n){t.off_may_be&&(n=_.clone(n));var c=void 0;for(var l in n){var h=n[l];void 0!==(c=h.d?h.f.call(h.c?h.c:this,h.d,r,i._prevValue):h.f.call(h.c?h.c:this,r,i._prevValue))&&(r=c)}}}return!0}setWoOwnSetter(e,r,t){return void 0!==r&&this.set(e,r,t,i.IGNORE_OWN_SETTER)||void 0===r}setArray(e,r,t,s=!1){if(!1===s&&this.constructor.ownSetters[e])return this.constructor.ownSetters[e].call(this,r,t);t=t||i.OBJECT_EMPTY;var a=this.constructor.typeProperties[e],o=this.properties[e];if(i._prevValue=t.prev_value||void 0,i._bChanged=!1,Array.isArray(r))for(var n=0;n<r.length;n++){var c=r[n];a===i.TYPE_ARRAY_NUMBERS&&(c=t.precision?Math.roundTo(c,t.precision):+c),o[n]!==c&&(i._bChanged=!0,t.prev_value_clone&&!i._prevValue&&(i._prevValue=_.clone(o)),o[n]=c)}else{if(r)throw"aValues should be must Array or empty! ("+this.constructor.name+")";for(c=a===i.TYPE_OBJECT_NUMBERS?0:void 0,n=0;n<o.length;n++)o[n]!==c&&(i._bChanged=!0,t.prev_value_clone&&!i._prevValue&&(i._prevValue=_.clone(o)),o[n]=c)}if(i._bChanged){if(this.changed=!0,!t.no_triggers){var l=this.onChangeCallbacks[e];if(l){t.off_may_be&&(l=_.clone(l));var h=void 0;for(var n in l){var u=l[n];void 0!==(h=u.d?u.f.call(u.c?u.c:this,u.d,o,i._prevValue):u.f.call(u.c?u.c:this,o,i._prevValue))&&(o=h)}}}return!0}return!1}setObject(e,r,t,s=!1){if(!1===s&&this.constructor.ownSetters[e])return this.constructor.ownSetters[e].call(this,r,t);t=t||i.OBJECT_EMPTY;var a=this.constructor.typeProperties[e],o=this.properties[e];if(i._prevValue=t.prev_value||void 0,i._bChanged=!1,Array.isArray(r))for(var n in i._index=0,o){var c=r[i._index];a===i.TYPE_OBJECT_NUMBERS&&(c=t.precision?Math.roundTo(c,t.precision):+c),o[n]!==c&&(i._bChanged=!0,t.prev_value_clone&&!i._prevValue&&(i._prevValue=_.clone(o)),o[n]=c),i._index++}else if(r)for(var n in r){c=r[n];a===i.TYPE_OBJECT_NUMBERS&&(c=t.precision?Math.roundTo(c,t.precision):+c),o[n]!==c&&(i._bChanged=!0,t.prev_value_clone&&!i._prevValue&&(i._prevValue=_.clone(o)),o[n]=c)}else{c=a===i.TYPE_OBJECT_NUMBERS?0:void 0;for(var n in o)o[n]!==c&&(i._bChanged=!0,t.prev_value_clone&&!i._prevValue&&(i._prevValue=_.clone(o)),o[n]=c)}if(i._bChanged){if(this.changed=!0,!t.no_triggers){var l=this.onChangeCallbacks[e];if(l){t.off_may_be&&(l=_.clone(l));var h=void 0;for(var u in l){var v=l[u];void 0!==(h=v.d?v.f.call(v.c?v.c:this,v.d,o,i._prevValue):v.f.call(v.c?v.c:this,o,i._prevValue))&&(o=h)}}}return!0}return!1}get(e){return this.properties[e]}on(e,r,t,i,s=!1){var a=this.onChangeCallbacks[e];a||(a=this.onChangeCallbacks[e]=[]),a.push({f:r,c:t,d:i}),s&&(i?r.call(t||this,i,this.properties[e],this.properties[e]):r.call(t||this,this.properties[e],this.properties[e]))}off(e,r){if(e){var t=this.onChangeCallbacks[e];if(t)if(r)for(var i=0;i<t.length;i++)t[i].f===r&&(t.splice(i,1),i--);else t.length=0}else for(var s in this.onChangeCallbacks)this.onChangeCallbacks[s].length=0}trigger(e,r){r=r||i.OBJECT_EMPTY;var t=this.onChangeCallbacks[e];if(t)for(var s in r.off_may_be&&(t=_.clone(t)),t)t[s].f.call(t[s].c?t[s].c:this,t[s].d?t[s].d:this.properties[e])}destroy(){this.destroyed=!0,this.off()}}i.typeProperties={},i.TYPE_NUMBER=1,i.TYPE_STRING=2,i.TYPE_BOOL=3,i.TYPE_OBJECT=4,i.TYPE_ARRAY_NUMBERS=5,i.TYPE_OBJECT_NUMBERS=6,i.RUNNOW=1,i.OBJECT_EMPTY=Object.freeze({}),i.ownSetters={},i.IGNORE_OWN_SETTER=!0,i._uid=0,i._bChanged=!1,i._index=0,i._prevValue=void 0}},r={};function t(i){if(r[i])return r[i].exports;var s=r[i]={exports:{}};return e[i](s,s.exports,t),s.exports}t.d=(e,r)=>{for(var i in r)t.o(r,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:r[i]})},t.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),t(118)})();